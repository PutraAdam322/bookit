import{r as l,b as n,q as o,j as e,H as u,g as d}from"./index-Bbliq6wx.js";import{V as m}from"./VenueCard-DHUCuwgM.js";import{S as p}from"./search-CTkFa2cD.js";const i="https://bookit-backend-d4l7.onrender.com",h=o({queryKey:["facilities"],queryFn:async()=>{const r=await fetch(`${i}/api/v1/facilities`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch facilities");const s=await r.json().catch(()=>null);return Array.isArray(s)?s:s?s.data??s.facilities??s.items??s.results??[]:[]}}),f=()=>o({queryKey:["user"],queryFn:async()=>{const r=d();return r!=""?null:(await fetch(`${i}/api/v1/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:r}})).json()}});function j(){const[r,s]=l.useState(""),{data:a}=n(h),c=n(f());return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(u,{isAdmin:c.data?.isAdmin}),e.jsxs("div",{className:"container mx-auto px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:"Browse Venues"}),e.jsx("p",{className:"text-muted-foreground",children:"Find the perfect space for your event"})]}),e.jsx("div",{className:"mb-6 flex gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search by name or location...",value:r,onChange:t=>s(t.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring"})]})}),e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Showing ",a.length," venues"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(t=>e.jsx(m,{...t},t.id))})]})]})}export{j as component};
