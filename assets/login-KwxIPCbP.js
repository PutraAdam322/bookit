import{u as c,a as l,s as d,c as u,j as e,B as m}from"./index-Bbliq6wx.js";const p="https://bookit-backend-d4l7.onrender.com";async function x(n){const r=await n.text().catch(()=>""),t=r?JSON.parse(r):null;if(!n.ok){const s=new Error(t?.message??`HTTP ${n.status}`);throw s.status=n.status,s.body=t,s}return t}async function g(n,r){const t=await fetch(`${p}/api/v1/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})});if(!t.ok){const s=await t.json();throw new Error(s.data||"Failed to log in")}return x(t)}function f(){const n=c(),r=l({mutationFn:({email:s,password:a})=>g(s,a),onSuccess:s=>{s?.data&&d(s.data,!0);try{u.invalidateQueries()}catch{}n({to:"/"})}}),t=s=>{s.preventDefault();const a=new FormData(s.currentTarget),i=String(a.get("email")??""),o=String(a.get("password")??"");r.mutate({email:i,password:o})};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-muted/30",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary flex items-center justify-center",children:e.jsx(m,{className:"h-6 w-6 text-primary-foreground"})})}),e.jsx("h2",{className:"mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground",children:"Sign in to your account to continue"})]}),e.jsx("div",{className:"p-6 pt-0",children:e.jsxs("form",{onSubmit:t,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block",children:"Email"}),e.jsx("input",{id:"email",type:"email",name:"email",placeholder:"you@example.com",required:!0,className:"w-full px-3 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring placeholder:text-gray-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("i",{className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),e.jsx("input",{id:"password",type:"password",name:"password",placeholder:"••••••••",required:!0,className:"w-full px-3 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring placeholder:text-gray-400"})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 transition-opacity",disabled:r.isPending,children:r.isPending?"Signing in…":"Sign in"}),r.isError&&e.jsx("div",{className:"text-red-600 mt-2",children:r.error?.message}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx("i",{className:"text-primary hover:underline",children:"Sign up"})]})]})})]})})}export{f as component};
