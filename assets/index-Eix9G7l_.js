import{e as u,u as p,r as m,a as g,g as h,j as e,H as b,A as x}from"./index-Bbliq6wx.js";const y="https://bookit-backend-d4l7.onrender.com";function j(){const{isAuthenticated:i}=u();if(console.log(i),!i)throw new Error;const o=p(),[r,n]=m.useState({name:"",capacity:"",price:"",available:!0}),l=g({mutationFn:async a=>{const t=await fetch(`${y}/api/v1/facilities/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:h()},body:JSON.stringify(a)}),c=await t.text();try{const s=JSON.parse(c);if(!t.ok)throw new Error(s?.message??`HTTP ${t.status}`);return s}catch(s){throw new Error(s instanceof Error?s.message:String(s))}},onSuccess:()=>{alert("Create facility successful!")},onError:a=>{console.error("Create facility failed:",a),alert("Create facility failed: "+(a?.message??String(a)))}}),d=async a=>{a.preventDefault();const t={name:r.name,price:r.price===""?0:parseFloat(r.price),capacity:r.capacity===""?0:parseInt(r.capacity,10),available:!!r.available};if(!t.name||t.price<=0||t.capacity<=0){alert("Please enter valid name, price and capacity.");return}try{await l.mutateAsync(t),o({to:"/admin/facilities"})}catch{}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(b,{isAdmin:!0}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("i",{className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[e.jsx(x,{className:"h-4 w-4"}),"Back to Dashboard"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:"Add New Venue"}),e.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to add a new venue to the system"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[e.jsx("h3",{className:"mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",children:"Facility Name *"}),e.jsx("input",{id:"name",placeholder:"e.g., Grand Conference Hall",value:r.name,onChange:a=>n({...r,name:a.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"capacity",children:"Capacity (people) *"}),e.jsx("input",{id:"capacity",type:"number",placeholder:"e.g., 50",value:r.capacity,onChange:a=>n({...r,capacity:a.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"price",children:"Price per Hour ($) *"}),e.jsx("input",{id:"price",type:"number",placeholder:"e.g., 100",value:r.price,onChange:a=>n({...r,price:a.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg border border-border bg-input-background focus:outline-none focus:ring-2 focus:ring-ring"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx("i",{children:e.jsx("button",{type:"button",className:"px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Cancel"})}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 transition-opacity",children:"Add Venue"})]})]})]})]})}export{j as component};
